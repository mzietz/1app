#:kivy 1.10.0
#:import factory kivy.factory
#:import ListItemButton kivy.uix.listview.ListItemButton
#:import ListAdapter kivy.adapters.listadapter.ListAdapter

<Screen>:
    canvas:
        Color:
            rgb: 1, 1, 1
        Rectangle:
            size: self.size

<Scribble@Label>:
    font_size: '38sp'
    text_size: self.width, None
    size_hint: 1, None
    height: self.texture_size[1]
    font_name: 'data/fonts/UhBee puding Bold'
    color: 0, 0, 0 ,1

<ButtonImage@Image>:
    size: self.parent.size
    pos: self.parent.pos  # important!
    size_hint_y: None
    size_hint_x: None
    allow_stretch: True

<BackButton@Button>:
    background_color: (.99,.99,.99,0)
    pos_hint: {"center_x": 0.22, 'y':0.04}
    size_hint: 0.23, 0.2
    id: data_button
    on_release:
        app.go_to_home()               
    ButtonImage:
        source: 'data/pictures/mario_hand_schatten.png'

<ImageButton@Button>:
    background_color: (.99,.99,.99,0)

<GridButton@Button>:
    background_color: (.99,.99,.99,0)

<UberImage@Image>:
    size: self.parent.size
    pos: self.parent.pos 
    size_hint_y: None
    size_hint_x: None
    allow_stretch: True

<Question@Label>:
    text_size: self.width, None
    size_hint: 1, None
    height: self.texture_size[1]
    valign: 'top'
    haldign: 'middle'
    font_name: 'data/fonts/DK Cool Crayon'
    color: 1, 1, 1 ,1
    pos_hint: {'top': 1}

<Answer@Label>:
    size: self.texture_size
    text_size: self.width, None
    size_hint: 1, None
    height: self.texture_size[1]
    valign: 'center'
    haldign: 'middle'
    font_name: 'data/fonts/TYPO_CRAYONM' 
    color: 1, 1, 1 ,1

<Uber@Label>:
    font_size: '48sp'
    font_name: 'data/fonts/TYPO_CRAYONM'
    color: 1, 1, 1 ,1

<PageOne>:
    on_touch_down: app.touchdown(args[1])
    on_touch_up: app.touchup_on_pageone(args[1])

    BoxLayout:
        spacing: 10
        padding: '45sp'
        orientation: 'vertical'
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'data/pictures/blackboard.png'
        BoxLayout:
            height: self.minimum_height
            width: self.parent.width/1.2
            orientation: 'vertical'
            size_hint:(None, None)

            Question:
                font_size: '38sp'
                text: app.vocab1

        Image:
            size_hint:(1, 0.1)
            source: 'data/pictures/strich.png'
            center_x: self.parent.center_x
            center_y: self.parent.center_y
            allow_stretch: True
        BoxLayout
            spacing: '10sp'
            orientation: 'vertical'
            BoxLayout:
                height: self.minimum_height
                width: self.parent.width
                size_hint:(None, None)

                Answer:
                    text: app.answer1
                    font_size: '38sp'
            BoxLayout:
                padding: [20,20,0,0]
                height: self.minimum_height
                width: self.parent.width
                size_hint:(None, None)

                Answer:
                    text: app.info11
                    font_name: 'data/fonts/DK Cool Crayon'
                    font_size: '26sp'
            BoxLayout:
                padding: [20,0,0,0]
                height: self.minimum_height
                width: self.parent.width
                size_hint:(None, None)

                Answer:
                    text: app.info12
                    font_size: '26sp'               

            BoxLayout:
                Image:
                    source: root.picture
                    size: self.parent.size
                    opacity: root.picture_opacity
                    pos: self.parent.pos 
                    allow_stretch: True


<PageTwo>:
    on_touch_down: app.touchdown(args[1])
    on_touch_up: app.touchup_on_pagetwo(args[1])

    BoxLayout:
        padding: '45sp'
        spacing: 10
        orientation: 'vertical'
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: 'data/pictures/blackboard.png'
        BoxLayout:
            size_hint:(1, 0.1)
            height: self.minimum_height
            width: self.parent.width/1.2
            size_hint:(None, None)
            Question:
                font_size: '38sp'
                text: app.vocab2
        Image:
            size_hint:(1, 0.1)
            source: 'data/pictures/strich.png'
            center_x: self.parent.center_x
            center_y: self.parent.center_y
            allow_stretch: True
        BoxLayout
            spacing: '10sp'
            orientation: 'vertical'
            BoxLayout:
                height: self.minimum_height
                width: self.parent.width
                size_hint:(None, None)
                Answer:
                    text: app.answer2
                    font_size: '38sp'
            BoxLayout:
                padding: [20,20,0,0]
                height: self.minimum_height
                width: self.parent.width
                size_hint:(None, None)
                Answer:
                    text: app.info21
                    font_name: 'data/fonts/DK Cool Crayon'
                    font_size: '26sp'
            BoxLayout:
                padding: [20,0,0,0]
                height: self.minimum_height
                width: self.parent.width
                size_hint:(None, None)
                Answer:
                    text: app.info22
                    font_size: '26sp'               

            BoxLayout:



<VocabFrontPage>:
    FloatLayout:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: root.picture
        BoxLayout:
            orientation: "vertical"
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: 'data/pictures/stack.png'
            pos_hint: {"center_x": 0.5, 'center_y':0.5}
            size_hint: 0.85, 0.4
            BoxLayout:
                orientation: "horizontal"
                size_hint: 0.6, 0.2
                pos_hint: {'center_x': 0.5}
                Scribble:
                    pos_hint: {'center_x': 0.5}
                    text: " - " + str(root.level) + " " + str(root.deck) + " - "
            BoxLayout:
                size_hint: 1, 0.02
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 0.15
                padding: [30,0,0,0]
                Image:
                    size_hint: 0.8, 1
                    source: 'data/pictures/pfeil_gruen.png'
                BoxLayout:
                    size_hint: 0.1, 1
                Scribble:
                    text: str(app.swipe_right)
                    pos_hint: {'center_y': 0.7}
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 0.15
                padding: [30,0,0,0]
                Image:
                    size_hint: 0.8, 1
                    source: 'data/pictures/pfeil_rot.png'
                BoxLayout:
                    size_hint: 0.1, 1
                Scribble:
                    text: str(app.swipe_left)
                    pos_hint: {'center_y': 0.7}
            BoxLayout:
                size_hint: 1, 0.05
        ImageButton:
            pos_hint: {"center_x": 0.8, 'y':0.04}
            size_hint: 0.26, 0.2
            id: data_button
            on_release:
                app.go_to_vocab()               
            ButtonImage:
                source: 'data/pictures/start_pixel.png'
        BackButton:

<HomePage>:
    FloatLayout:
        orientation: 'vertical'
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: root.picture
        ImageButton:
            size_hint: 0.6, 0.4
            pos_hint: {"center_x": 0.5, 'center_y': 0.45}
            id: study_button
            on_release:
                app.go_to_vocabfrontpage()
            ButtonImage:
                source: 'data/pictures/deck_hallo.png'
        ImageButton:
            pos_hint: {"center_x": 0.5, 'y':0.05}
            size_hint: 0.3, 0.2
            id: data_button
            on_release:
                app.go_to_data()               
            ButtonImage:
                source: 'data/pictures/data_button_stark.png'
            
<DataPage>:
    FloatLayout:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: root.picture

        BoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, 0.5
            pos_hint: {"center_x": 0.5, 'center_y': 0.5}

            BoxLayout:
                size_hint:(1, 0.3)
                orientation: 'vertical'
                GridLayout:
                    cols: 4
                    rows: 1
                    GridButton:
                        id: label1
                        on_release:
                            app.on_level_button("a1")
                        ButtonImage:
                            source: root.a1_image
                    GridButton:
                        id: label2
                        on_release:
                            app.on_level_button("a2")
                        ButtonImage:
                            source: root.a2_image
                    GridButton:
                        id: label3
                        on_release:
                            app.on_level_button("b1")
                        ButtonImage:
                            source: root.b1_image
                    GridButton:
                        id: label4
                        on_release:
                            app.on_level_button("b2")
                        ButtonImage:
                            source: root.b2_image
            BoxLayout:
                size_hint:(1, 0.6)
                orientation: 'vertical'
                GridLayout:
                    cols: 2
                    rows: 2
                    GridButton:
                        id: label5
                        on_release:
                            app.on_deck_button("nomen")
                        ButtonImage:
                            source: root.nomen_image
                    GridButton:
                        id: label6
                        on_release:
                            app.on_deck_button("verben")
                        ButtonImage:
                            source: root.verben_image
                    GridButton:
                        id: label7
                        on_release:
                            app.on_deck_button("adjektive")
                        ButtonImage:
                            source: root.adjektive_image
                    GridButton:
                        id: label8
                        on_release:
                            app.on_deck_button("rest")
                        ButtonImage:
                            source: root.rest_image
        BackButton:


<ChunkPage>:
    FloatLayout:
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: root.picture

        BoxLayout:
            orientation: "vertical"
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    source: 'data/pictures/stack.png'
            pos_hint: {"center_x": 0.5, 'center_y':0.5}
            size_hint: 0.85, 0.4
            BoxLayout:
                orientation: "horizontal"
                size_hint: 0.6, 0.2
                pos_hint: {'center_x': 0.5}
                Scribble:
                    pos_hint: {'center_x': 0.5}
                    text: " - " + str(root.level) + " " + str(root.deck) + " - "
            BoxLayout:
                size_hint: 1, 0.02
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 0.15
                padding: [30,0,0,0]
                Image:
                    size_hint: 0.8, 1
                    source: 'data/pictures/pfeil_gruen.png'
                BoxLayout:
                    size_hint: 0.1, 1
                Scribble:
                    text: str(app.swipe_right)
                    pos_hint: {'center_y': 0.7}
            BoxLayout:
                orientation: "horizontal"
                size_hint: 1, 0.15
                padding: [30,0,0,0]
                Image:
                    size_hint: 0.8, 1
                    source: 'data/pictures/pfeil_rot.png'
                BoxLayout:
                    size_hint: 0.1, 1
                Scribble:
                    text: str(app.swipe_left)
                    pos_hint: {'center_y': 0.7}
            BoxLayout:
                size_hint: 1, 0.05
        ImageButton:
            pos_hint: {"center_x": 0.8, 'y':0.04}
            size_hint: 0.26, 0.2
            id: data_button
            on_release:
                app.go_to_vocab()               
            ButtonImage:
                source: 'data/pictures/weiter_pixel.png'
        BackButton:
<AboutPage>:
    BoxLayout:
        padding: '30sp'
        orientation: 'vertical'
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: root.picture
        BoxLayout:
            size_hint:(1, 0.3)

            UberImage:
                source: 'data/pictures/about_titel.png'

        BoxLayout:
            size_hint:(1, 0.7)

        BoxLayout:
            orientation: 'horizontal'
            padding: [15,0,0,0]
            size_hint: (1 ,0.25)
            BackButton:
                size_hint: (0.35 ,1)
            BoxLayout:

<FinishedPage>:
    BoxLayout:
        padding: '30sp'
        orientation: 'vertical'
        canvas.before:
            Rectangle:
                pos: self.pos
                size: self.size
                source: root.picture
        BoxLayout:
            size_hint:(1, 0.3)

            UberImage:
                source: 'data/pictures/end_titel.png'

        BoxLayout:
            size_hint:(1, 0.7)
            Button:
#                size_hint:(0.4, 1)
                background_color: (.99,.99,.99,0)
                center_x: self.center_x
                id: study_button
                on_release:
                    app.reset_current_deck()
                    app.go_to_home()
                ButtonImage:
                    source: 'data/pictures/reset_button.png'

        BoxLayout:
            orientation: 'horizontal'
            padding: [15,0,0,0]
            size_hint: (1 ,0.25)
            BackButton:
                size_hint: (0.35 ,1)
            BoxLayout:

<SwipeManager>

#       canvas:
#           Color:
#               rgb: 0.4, 1, 1
#           Rectangle:
#               pos: self.pos
#                   size: self.size

#                   DeckData:
#                       pos: self.pos
#                       size: self.size
#                       height: self.height 
#                       id:deck